"use strict";(self.webpackChunkd2sv_sdk_builder=self.webpackChunkd2sv_sdk_builder||[]).push([[1850],{5680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>m});var n=a(6540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=s(a),c=r,m=d["".concat(p,".").concat(c)]||d[c]||g[c]||i;return a?n.createElement(m,l(l({ref:t},u),{},{components:a})):n.createElement(m,l({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[d]="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},1600:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>g,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var n=a(8168),r=(a(6540),a(5680));const i={sidebar_position:1.06,sidebar_label:"Upgrade SDK workspace/plugins",description:"Staying up-to-date with the latest SDK"},l="Upgrading Documentum D2 SmartView SDK to the latest version",o={unversionedId:"general/howto/1_06_upgrade_workspace",id:"general/howto/1_06_upgrade_workspace",title:"Upgrading Documentum D2 SmartView SDK to the latest version",description:"Staying up-to-date with the latest SDK",source:"@site/articles/general/howto/1_06_upgrade_workspace.md",sourceDirName:"general/howto",slug:"/general/howto/1_06_upgrade_workspace",permalink:"/d2sv-sdk/25.2.0/general/howto/1_06_upgrade_workspace",draft:!1,tags:[],version:"current",sidebarPosition:1.06,frontMatter:{sidebar_position:1.06,sidebar_label:"Upgrade SDK workspace/plugins",description:"Staying up-to-date with the latest SDK"},sidebar:"general",previous:{title:"Use icons in D2SV",permalink:"/d2sv-sdk/25.2.0/general/howto/1_05_use_icons"},next:{title:"Use external widget in Documentum Client",permalink:"/d2sv-sdk/25.2.0/general/howto/1_07_external_widgets"}},p={},s=[{value:"Steps to update existing workspace to new version SDK.",id:"steps-to-update-existing-workspace-to-new-version-sdk",level:3},{value:"Testing workspace upgrade and update all plugins in the workspace",id:"testing-workspace-upgrade-and-update-all-plugins-in-the-workspace",level:3},{value:"Effect of workspace update",id:"effect-of-workspace-update",level:3},{value:"Troubleshooting SDK Update",id:"troubleshooting-sdk-update",level:3}],u={toc:s},d="wrapper";function g(e){let{components:t,...a}=e;return(0,r.yg)(d,(0,n.A)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"upgrading-documentum-d2-smartview-sdk-to-the-latest-version"},"Upgrading Documentum D2 SmartView SDK to the latest version"),(0,r.yg)("p",null,"With Documentum D2 SmartView SDK, new features will be added and delivered in each release.\nSo,the SDK workspace need to be updated for consuming newly delivered feature."),(0,r.yg)("p",null,"D2 SmartView SDK provides an automated way to update the current workspace to the latest version of SDK."),(0,r.yg)("h3",{id:"steps-to-update-existing-workspace-to-new-version-sdk"},"Steps to update existing workspace to new version SDK."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Close any IDE opened in existing workspace root."),(0,r.yg)("li",{parentName:"ul"},"Close all the processes related to D2 SmartView SDK like documentation server or workspace assistant."),(0,r.yg)("li",{parentName:"ul"},"Take backup of ",(0,r.yg)("b",null,"lib"),"(","[Existing SDK workspace root]","/lib) folder in workspace root, if any third-party jar dependencies are added in the workspace. Because the workspace root ",(0,r.yg)("b",null,"lib")," folder will be regenerated as part of workspace upgrade. "),(0,r.yg)("li",{parentName:"ul"},"User must have ",(0,r.yg)("b",null,"Delete")," permission on directory where D2-SmartView SDK workspace exist."),(0,r.yg)("li",{parentName:"ul"},"Unzip D2SV-SDK-24.4.0.zip"),(0,r.yg)("li",{parentName:"ul"},"Copy d2sdk-maven-plugin-24.4.0.jar from following path in zip.",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"D2SV-SDK-24.4.0 (Archive root)/tools/"))),(0,r.yg)("li",{parentName:"ul"},"Paste the copied d2sdk-maven-plugin-24.4.0.jar in following path.",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"d2sv-sdk-23.2.0(Existing SDK workspace root)/tools/"))),(0,r.yg)("li",{parentName:"ul"},"Execute the following command in d2sv-sdk-23.2.0(Existing SDK workspace root) using Command Prompt. With this command execution, current SDK workspace will be updated with latest D2-SmartView dependencies and changes.",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"ws-update.bat"))),(0,r.yg)("li",{parentName:"ul"},"Wait for Success message for SDK update."),(0,r.yg)("li",{parentName:"ul"},"Post Success to update documentation:",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Copy the 'docs' folder from the following path:",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"D2SV-SDK-24.4.0/(Archive root)"))),(0,r.yg)("li",{parentName:"ul"},"Paste the copied docs folder into the following path:",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"d2sv-sdk-23.2.0/(Existing SDK workspace root)")))))),(0,r.yg)("h3",{id:"testing-workspace-upgrade-and-update-all-plugins-in-the-workspace"},"Testing workspace upgrade and update all plugins in the workspace"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Execute ",(0,r.yg)("b",null,"npm start")," in workspace root folder in terminal application."),(0,r.yg)("li",{parentName:"ul"},"Choose option ",(0,r.yg)("b",null,"Build all plugins in this workspace")," to compile and build all plugins in the workspace. This operation will restore all symbolic folder links in the workspace plugin. Check the generated plugin jars in ",(0,r.yg)("b",null,"dist")," folder in workspace root."),(0,r.yg)("li",{parentName:"ul"},"Choose option ",(0,r.yg)("b",null,"Check out the documentation")," to open the SDK documentation and verify the version in the documentation."),(0,r.yg)("li",{parentName:"ul"},"Deploy the generated plugin in server validating UI code and Backend code is compatible with new version of D2 SmartView SDK."),(0,r.yg)("li",{parentName:"ul"},"Run the plugins in local node server for validating UI code is compatible with new version of D2 SmartView SDK."),(0,r.yg)("li",{parentName:"ul"},"Open the updated SDK workspace in IDE.")),(0,r.yg)("h3",{id:"effect-of-workspace-update"},"Effect of workspace update"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Current workspace will be updated with latest 24.4.0 dependencies for UI and REST."),(0,r.yg)("li",{parentName:"ul"},"Documentation will be updated with latest D2 SmartView 24.4.0."),(0,r.yg)("li",{parentName:"ul"},"Backup will be created for root pom.xml and package.json with version number suffix. (package_23.2.0.json.bak and pom_23.2.0.xml.bak)"),(0,r.yg)("li",{parentName:"ul"},"Backup will be created for existing workspace as zip file in same directory where workspace exist. If workspace root folder name D2SV-SDK-WORKSPACE then zip name will be D2SV-SDK-WORKSPACE_23.2.0_bak.zip."),(0,r.yg)("li",{parentName:"ul"},"SDK infrastructure will be updated for root SDK and all plugin modules in workspace."),(0,r.yg)("li",{parentName:"ul"},"When the plugin is updated for new version D2-SmartView SDK, plugin's runtime initializer file will be regenerated as per new SDK specification."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("h4",{parentName:"li",id:"restoring-the-plugins-runtime-initializer-for-smartview"},(0,r.yg)("u",null,"Restoring the plugin's runtime initializer for SmartView")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"SmartView initializer file is located in inside source code of SmartView path.",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Path: ","[WORKSPACE_ROOT]","/","[PLUGIN_ROOT]","/","[PLUGIN_NAME]","/src/main/smartview/src/","[PLUGIN_NAMESPACE]","-init.js"),(0,r.yg)("li",{parentName:"ul"},"Sample Path: D2SV-SDK/plugins/D2-AdminGroups/src/main/smartview/src/admingroups-init.js."))),(0,r.yg)("li",{parentName:"ul"},"If any plugin project is having additional code written inside the SmartView initializer, then the same must be restored in the generated plugin initializer file after the update."),(0,r.yg)("li",{parentName:"ul"},"During SDK update, a backup of the old version SmartView plugin initializer file will be created by the same name with ",(0,r.yg)("b",null,".bak")," extension. With the help of the backup file, An SDK developer has to manually restore the previously written additional code in the new SmartView plugin initializer file.",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Sample backup file: ",(0,r.yg)("b",null,"admingroups-init.js.bak")," is the backup of ",(0,r.yg)("b",null,"admingroups-init.js"))))))),(0,r.yg)("h3",{id:"troubleshooting-sdk-update"},"Troubleshooting SDK Update"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("h4",{parentName:"li",id:"restoring-dependencies"},(0,r.yg)("u",null,"Restoring Dependencies")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"As part of SDK upgrade, workspace root ",(0,r.yg)("b",null,"pom.xml")," and ",(0,r.yg)("b",null,"package.json")," will be regenerated with new dependencies. "),(0,r.yg)("li",{parentName:"ul"},"If SDK developer has added any new java dependency in pom.xml or new npm dependency in package.json in older version, then those dependencies need to be restored again in new version pom.xml and package.json. "),(0,r.yg)("li",{parentName:"ul"},"For SDK developer's reference, backup created for the older version pom.xml and package.json file.  "))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("h4",{parentName:"li",id:"restoring-workspace-with-older-version-of-sdk"},(0,r.yg)("u",null,"Restoring workspace with older version of SDK")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"When upgrade SDK fails, D2 SmartView SDK developer can restore the SDK workspace to older version."),(0,r.yg)("li",{parentName:"ul"},"As part of SDK upgrade, complete workspace backup is created as zip file in same directory where workspace exist. "),(0,r.yg)("li",{parentName:"ul"},"If ws-update.bat execution fails, D2 SmartView SDK developer can restore the SDK workspace to older version using the backup zip file.",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("h5",{parentName:"li",id:"steps-to-restore-the-older-version-of-workspace"},(0,r.yg)("u",null,"Steps to restore the older version of workspace")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Unzip the backup zip file."),(0,r.yg)("li",{parentName:"ul"},"Delete the new version of ",(0,r.yg)("b",null,"d2sdk-maven-plugin.jar")," in ",(0,r.yg)("b",null,"tools")," folder and keep only the old version of the same jar."),(0,r.yg)("li",{parentName:"ul"},"Update current root folder's path in ",(0,r.yg)("b",null,"lib.path")," property in root pom.xml for pointing to older dependency. Since this zip is back of original workspace, the original workspace path will be available in ",(0,r.yg)("b",null,"lib.path")," property."),(0,r.yg)("li",{parentName:"ul"},"Execute the ",(0,r.yg)("b",null,"ws-init.bat -fo")," (ws-init with force overwrite argument) command in extracted folder using Command Prompt. "),(0,r.yg)("li",{parentName:"ul"},"With this command execution, current SDK workspace will be restored with older version of D2-SmartView dependencies and changes."),(0,r.yg)("li",{parentName:"ul"},"Later same workspace can be upgraded to new version of SDK. While updating the workspace from backup to the new version, keep only latest version of ",(0,r.yg)("b",null,"d2sdk-maven-plugin.jar"),"."))))))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("h4",{parentName:"li",id:"handling-java-and-spring-upgrade"},(0,r.yg)("u",null,"Handling Java and Spring upgrade")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"From 23.4.0 Documentum and D2-Rest has migrated to the new version of Java v17 and Spring v6."),(0,r.yg)("li",{parentName:"ul"},"Tomcat server need to be upgraded to version 10."),(0,r.yg)("li",{parentName:"ul"},"If there was any Java code which uses older Java or Spring dependencies in any of the plugin, then build will be failing for those plugins."),(0,r.yg)("li",{parentName:"ul"},"SDK developer need to manually fix the compilation issues, which is caused due to Java and Spring upgrade."))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("h4",{parentName:"li",id:"handling-sdk-upgrade-for-excluded-modules"},(0,r.yg)("u",null,"Handling SDK upgrade for excluded modules")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"If some plugin modules are excluded from root pom.xml, then those plugins are not considered for SDK upgrade automation."),(0,r.yg)("li",{parentName:"ul"},"The upgrade for the excluded plugins in the workspace need to be done manually."),(0,r.yg)("li",{parentName:"ul"},"For such excluded plugins, create a new plugin and migrate the source code changes manually.")))))}g.isMDXComponent=!0}}]);