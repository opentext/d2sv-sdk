<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api/nuc/contexts/context">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Context | D2 Smartview SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://d2sv-sdk.github.io/23.2.0/api/nuc/contexts/context"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Context | D2 Smartview SDK"><meta data-rh="true" name="description" content="Gathers models, collections, or plain objects to be shared among multiple"><meta data-rh="true" property="og:description" content="Gathers models, collections, or plain objects to be shared among multiple"><link data-rh="true" rel="icon" href="/23.2.0/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://d2sv-sdk.github.io/23.2.0/api/nuc/contexts/context"><link data-rh="true" rel="alternate" href="https://d2sv-sdk.github.io/23.2.0/api/nuc/contexts/context" hreflang="en"><link data-rh="true" rel="alternate" href="https://d2sv-sdk.github.io/23.2.0/api/nuc/contexts/context" hreflang="x-default"><link rel="stylesheet" href="/23.2.0/assets/css/styles.69f7b1d2.css">
<link rel="preload" href="/23.2.0/assets/js/runtime~main.f64a723c.js" as="script">
<link rel="preload" href="/23.2.0/assets/js/main.c7fdb043.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/23.2.0/"><div class="navbar__logo"><img src="/23.2.0/images/icon.png" alt="D2 SDK Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/23.2.0/images/icon.png" alt="D2 SDK Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">D2 Smartview SDK</b></a><a class="navbar__item navbar__link" href="/23.2.0/general/architecture">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/23.2.0/api_overview">API</a></div><div class="navbar__items navbar__items--right"><a href="https://developer.opentext.com/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">OpenText Developer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/23.2.0/api_overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/23.2.0/api/nuc/contexts/context">Nucleus</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/23.2.0/api/nuc/contexts/context">contexts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/23.2.0/api/nuc/contexts/context">Context</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.2.0/api/nuc/contexts/fragment/context.fragment">fragment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.2.0/api/nuc/contexts/page/page.context">page</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/23.2.0/api/nuc/contexts/synchronized.context">SynchronizedContext</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.2.0/api/nuc/lib/i18n">lib</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.2.0/api/nuc/models/browsable">models</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.2.0/api/nuc/utils/authenticators">utils</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="menu__list-item"><a href="/23.2.0/d2rest/index.html" class="menu__link menuExternalLink_NmtK" target="_blank">D2-REST</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="menu__list-item"><a href="/23.2.0/dctm-rest/index.html" class="menu__link menuExternalLink_NmtK" target="_blank">DCTM-REST</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="menu__list-item"><a href="/23.2.0/d2fs/index.html" class="menu__link menuExternalLink_NmtK" target="_blank">D2FS</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="menu__list-item"><a href="/23.2.0/dfc/index.html" class="menu__link menuExternalLink_NmtK" target="_blank">DFC</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/23.2.0/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Nucleus</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">contexts</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Context</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Context</h1><p>Gathers models, collections, or plain objects to be shared among multiple
scenarios and fetch them together.  Objects in context are managed by their
<em>factories</em>.</p><p>This is a base class. <code>PageContext</code>, <code>PortalContext</code>, <code>BrowsingContext</code> or
<code>PerspectiveContext</code> are classes to create instances of.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create a new context.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var context = new PageContext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Get the (main contextual) authenticated user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var currentUser = context.getModel(UserModelFactory);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="factory">Factory<a href="#factory" class="hash-link" aria-label="Direct link to Factory" title="Direct link to Factory">​</a></h2><p>Is the &quot;overlord&quot; of objects in the context.  The parent class returned from
&#x27;nuc/contexts/factories/factory&#x27; is usually called by different names
like <code>ObjectFactory</code>, <code>ModelFactory</code> or <code>CollectionFactory</code> to express what
the descended factory will take care of.</p><ul><li>Creates an instance of the object, which will be returned to the caller.</li><li>Assigns a unique prefix to the object, so that the same object can be
obtained using the factory at different places.</li><li>Can override how the model or collection is fetched.</li></ul><p>A factory has to specify a unique <code>propertyPrefix</code> in the prototype and set
the object managed by it to <code>this.property</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var TestObjectFactory = ObjectFactory.extend({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  propertyPrefix: &#x27;test&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constructor: function TestObjectFactory(context, options) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ObjectFactory.prototype.constructor.apply(this, arguments);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.property = new TestObject();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Request an object with the default identifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// (internally stored with prefix &#x27;test&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var test = context.getObject(TestObjectFactory);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Objects are stored using <code>propertyPrefix</code>  in the context.  The <code>propertyPrefix</code>
is used alone for globally unique objects, or as a base for multiple objects
having the same factory, but different attributes:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Request a separate object with a specific identifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// (internally stored with prefix &#x27;test-id-1&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var test = context.getObject(TestObjectFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attributes: {id: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Factory can be used just for the object creation, if you don&#x27;t want to learn
about its constructor parameters.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Request a standalone object, not shareable by the context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var test = context.getObject(TestObjectFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  unique: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  temporary: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  detached: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fetchable-factory">Fetchable Factory<a href="#fetchable-factory" class="hash-link" aria-label="Direct link to Fetchable Factory" title="Direct link to Fetchable Factory">​</a></h2><p>Exposes <code>fetch</code> method, which should fetch its model. Whenever the context
is fetched, this method will be called.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var FavoriteCollectionFactory = CollectionFactory.extend({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  propertyPrefix: &#x27;favorites&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constructor: function FavoritesCollectionFactory(context, options) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CollectionFactory.prototype.constructor.apply(this, arguments);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var connector = context.getObject(ConnectorFactory, options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.property = new FavoritesCollection(undefined, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      connector: connector,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      autoreset: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fetch: function (options) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this.property.fetch(options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>isFetchable</code> method can be added to be able to check dynamically, if
the object is fetchable or not.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var NodeModelFactory = ModelFactory.extend({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  propertyPrefix: &#x27;node&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constructor: function NodeModelFactory(context, options) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ModelFactory.prototype.constructor.apply(this, arguments);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var connector = context.getObject(ConnectorFactory, options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.property = new NodeModel(undefined, {connector: connector});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  isFetchable: function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this.property.isFetchable();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fetch: function (options) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this.property.fetch(options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configurable-factory">Configurable Factory<a href="#configurable-factory" class="hash-link" aria-label="Direct link to Configurable Factory" title="Direct link to Configurable Factory">​</a></h2><p>Factories are usually created once per object type, but they need to be able
to create multiple object instances.  With just the factory provided, the
object will be constructed with default options:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get the (main contextual) node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var currentNode = context.getModel(NodeModelFactory);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With the second argument, additional options can be passed to control the
object creation.  The <code>attributes</code> will be used to uniquely stamp the new
object, so future calls to <code>getObject</code> with the same attributes will return
the same object. Also the <code>attributes</code> will be passed to the constructor of
the object, if it is a <code>Backbone.Model</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get original where the (main contextual) node points to, if it is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// a shortcut</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var originalId = currentNode.get(&#x27;original_id&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    original = context.getModel(NodeModelFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attributes: {id: originalId}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Below the property called like the factory prefix you can pass additional
options to the newly created object&#x27;s constructor by the <code>options</code> property:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get original where the (main contextual) node points to, if it is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// a shortcut and make it fetchable by the connector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var originalId = currentNode.original.get(&#x27;id&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    original = context.getModel(NodeModelFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attributes: {id: originalId},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      node: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        options: {connector: currentNode.connector}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the new object is a <code>Backbone.Model</code>, you can specify different attributes
for the constructor, than the attributes, which control the unique stamp of
the object.  While the former should be as minimum as to compose the unique
stamp, the latter could be more complete to pre-initialize the new object:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get original where the (main contextual) node points to, if it is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// a shortcut, make it fetchable by the connector, but pre-initialize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// it will all properties available so far</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var originalId = node.original.get(&#x27;id&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    original = context.getModel(NodeModelFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attributes: {id: originalId},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      node: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        attributes: node.original.attributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        options: {connector: currentNode.connector}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, if you already have the new object created and you only need the
context to make it shareable, you can pass it to the property called like
the factory as-is:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Get original where the (main contextual) node points to, if it is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// a shortcut, and share the same object, which has been obtained</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// with the contextual node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var originalId = node.original.get(&#x27;id&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    original = context.getModel(NodeModelFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attributes: {id: originalId},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      node: node.original</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="detached-objects">Detached Objects<a href="#detached-objects" class="hash-link" aria-label="Direct link to Detached Objects" title="Direct link to Detached Objects">​</a></h2><p>Objects, which are added to the context after the context was fetched are
needed to be fetched manually, if they need fetching at all.  Also, as
manually fetched objects, when the context is re-fetched, they are not
re-fetched again.  Their users decide, when they should be re-fetched.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// User information, which does not refresh automatically and will be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// discarded, when clear() is called on the context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var ownerId = node.get(&#x27;owner_user_id&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    owner = context.getModel(MemberModelFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attributes: {id: ownerId},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      detached: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Detached objects should merge the <code>Fetchable</code> mixin, which allows fetching
only once on demand by <code>ensureFetched</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Make sure, that the model was fetched once, before accessing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// its properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">owner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .ensureFetched()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .done(function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;Login:&#x27;, owner.get(&#x27;name&#x27;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="permanent-objects">Permanent Objects<a href="#permanent-objects" class="hash-link" aria-label="Direct link to Permanent Objects" title="Direct link to Permanent Objects">​</a></h2><p>Objects like the authenticated user need not be re-created during the
application lifecycle.  After being requested for the first time, they should
remain in the context for all scenarios.  (The only way how to re-create them
is to reload the entire application - the application page.)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// User information, which does not refresh automatically and will not be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// discarded, when clear() or fetch() is called on the context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var ownerId = node.get(&#x27;owner_user_id&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    owner = context.getModel(MemberModelFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    attributes: {id: ownerId},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    permanent: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    detached: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Permanent objects are usually detached too, unless they should be re-fetched with
every context re-fetch.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="temporary-objects">Temporary Objects<a href="#temporary-objects" class="hash-link" aria-label="Direct link to Temporary Objects" title="Direct link to Temporary Objects">​</a></h2><p>Objects like the original node need to be shared across function scopes and
object boundaries, but should not be re-created and re-fetched multiple times.
When the lifecycle of the current (main contextual) node ends, they should be
discarded from the context, so that they would not get re-fetched with the new
context content.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Shareable original node information, which will be discarded, as soon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// as clear() or fetch() is called on the context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var originalId = shortcut.original.get(&#x27;id&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    original = context.getModel(NodeModelFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attributes: {id: originalId},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      temporary: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="factory-life-cycle">Factory Life-Cycle<a href="#factory-life-cycle" class="hash-link" aria-label="Direct link to Factory Life-Cycle" title="Direct link to Factory Life-Cycle">​</a></h2><p>The context is a single-instance object that lives as long as the web page
lives. (There may be multiple contexts, if parts of the page were supposed
to work separately, but that would be a rare case.) The web page serves
different purposes during its life. Having just single context instance
means that the content of the context has to be able to be exchanged
to reflect the current page content.</p><p>The context supports two changes of the page content:</p><ul><li>refresh  - the page (views) will be reused, only the data will be reloaded</li><li>exchange - the page will be rebuilt (current views will be destroyed and new
ones will be created) and new data wil be loaded</li></ul><p>These changes can be induced by the following methods of the context: <code>clear</code>
and <code>fetch</code>. The <code>clear</code> removes the factories and thus their data from the
context. The <code>fetch</code> reloads (or loads, initially) the data by letting the
factories fetch.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// render a new page    &lt;----------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context.getObject(...) // get objects from the context     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context.fetch()        // fetch collected factories  &lt;--+  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// work with the page                                   |  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// open another object on the same page  ---------------+  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context.clear()        // prepare for the next page        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// navigate to other page  --------------------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the page has to show a different scenario (exchange), the <code>clear</code> will be
called, then the page will be rebuilt and eventually the <code>fetch</code> will be
called to load the data. If the page should show the same scenario with
different data (refresh), just <code>fetch</code> will be called.</p><p>Factories together with the objects that they maintain can be removed from
the context when <code>fetch</code> and <code>clear</code> are called to allow some objects to stay
forever and the other objects temporarily only after new data are to be loaded.
When factories are used to request objects from context, they can be passed
options, or these options can be set to <code>this.options</code> in the factory&#x27;s
constructor: <code>permanent</code> and <code>temporary</code> take care of the life-cycle,
<code>detached</code> and <code>unique</code> have other purposes.</p><p>How factories are removed from the context when <code>clear</code> and <code>fetch</code> are called:</p><table><thead><tr><th align="center">operation / flag</th><th align="center">refresh (fetch)</th><th align="center">exchange (clear + fetch)</th></tr></thead><tbody><tr><td align="center">permanent</td><td align="center">stay</td><td align="center">stay</td></tr><tr><td align="center">normal</td><td align="center">stay</td><td align="center">drop</td></tr><tr><td align="center">temporary</td><td align="center">drop</td><td align="center">drop</td></tr></tbody></table><p>The <code>detached</code> flag does not affect the factory&#x27;s life. It prevents the factory
ever getting fetched. The <code>unique</code> flag appends a unique number to the factory
prefix, so that one factory can be put to the context multiple times to maintain
different objects.</p><p>Declarative options control what factories are allowed to fetch when <code>fetch</code>
is called. In addition to the static rules below, the actual fetchability is
checked by the <code>isFetchable</code> method of the context:</p><table><thead><tr><th align="center">method / flag</th><th align="center">fetch</th></tr></thead><tbody><tr><td align="center">permanent</td><td align="center">allowed</td></tr><tr><td align="center">normal</td><td align="center">allowed</td></tr><tr><td align="center">temporary</td><td align="center">N/A (*)</td></tr><tr><td align="center">detached</td><td align="center">forbidden</td></tr></tbody></table><p>(*) Temporary factories are removed from the context when the <code>fetch</code> method
starts executing. It does not make sense to discuss their fetchability.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getobjectfactory-options-object">getObject(factory, options): object<a href="#getobjectfactory-options-object" class="hash-link" aria-label="Direct link to getObject(factory, options): object" title="Direct link to getObject(factory, options): object">​</a></h3><p>Returns an object maintained by the specified factory.  If the object has not
existed yet, it will be created, otherwise the previously created instance
will be returned.</p><p>The object existence is made unique by the property prefix defined by the
factory.  The full unique property stamp consists of this prefix and of the
context <code>attributes</code>, which can be passed in the second argument.</p><p>If the object is to be created, the second argument can carry parameters for
its constructor under the property named by the factory&#x27;s property prefix;
usually <code>attributes</code> and <code>options</code> for a model or <code>models</code> and <code>options</code> for
a collection.  Instead of constructor parameters, this property can point to
an already created object, so that the factory just stores it as-is.</p><p>The second argument can contain boolean flags to control how the context
will handle the object: <code>detached</code>, <code>permanent</code>, <code>temporary</code> and <code>unique</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create a favorite node collection pre-initialized with some nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// until it gets fetched with the context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var favorites = context.getCollection(FavoriteCollectionFactory, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  favorites: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    models: [{type: 141}, {type: 142}]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getcollectionfactory-options-object">getCollection(factory, options): object<a href="#getcollectionfactory-options-object" class="hash-link" aria-label="Direct link to getCollection(factory, options): object" title="Direct link to getCollection(factory, options): object">​</a></h3><p>Behaves just like <code>getObject</code>, but looks more intuitive, if the expected
result is Backbone.Collection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getmodelfactory-options-object">getModel(factory, options): object<a href="#getmodelfactory-options-object" class="hash-link" aria-label="Direct link to getModel(factory, options): object" title="Direct link to getModel(factory, options): object">​</a></h3><p>Behaves just like <code>getObject</code>, but looks more intuitive, if the expected
result is Backbone.Model.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hasobjectfactory-options-boolean">hasObject(factory, options): boolean<a href="#hasobjectfactory-options-boolean" class="hash-link" aria-label="Direct link to hasObject(factory, options): boolean" title="Direct link to hasObject(factory, options): boolean">​</a></h3><p>Returns if there is an object maintained by the specified factory.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hascollectionfactory-options-boolean">hasCollection(factory, options): boolean<a href="#hascollectionfactory-options-boolean" class="hash-link" aria-label="Direct link to hasCollection(factory, options): boolean" title="Direct link to hasCollection(factory, options): boolean">​</a></h3><p>Behaves just like <code>hasObject</code>, but looks more intuitive, if the expected
object is Backbone.Collection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hasmodelfactory-options-boolean">hasModel(factory, options): boolean<a href="#hasmodelfactory-options-boolean" class="hash-link" aria-label="Direct link to hasModel(factory, options): boolean" title="Direct link to hasModel(factory, options): boolean">​</a></h3><p>Behaves just like <code>hasObject</code>, but looks more intuitive, if the expected
object is Backbone.Model.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clearoptions-void">clear(options): void<a href="#clearoptions-void" class="hash-link" aria-label="Direct link to clear(options): void" title="Direct link to clear(options): void">​</a></h3><p>Discards all objects from the context, which are not permanent.
When <code>options.all</code> is set to <code>true</code>, all objects will be discarded.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetchoptions-promise">fetch(options): Promise<a href="#fetchoptions-promise" class="hash-link" aria-label="Direct link to fetch(options): Promise" title="Direct link to fetch(options): Promise">​</a></h3><p>Fetches all objects in the context, which are not detached.  Discards all
temporary objects before that. The options will be passed to the <code>fetch</code>
methods in factories that take care of the fetchable objects.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="suppressfetch-boolean">suppressFetch(): boolean<a href="#suppressfetch-boolean" class="hash-link" aria-label="Direct link to suppressFetch(): boolean" title="Direct link to suppressFetch(): boolean">​</a></h3><p>Aborts fetching started by the <code>fetch</code> method. You can interrupt a running
<code>fetch</code>in order to start another one, because the earlier result has become
irrelevant. (Because a navigation got interrupted by yet another navigation,
for example.)</p><p>Error event on the context will be never triggered and the returned promise
will be never resolved. Sync event will be triggered immediately
as the <code>suppressFetch</code> method is called to balance the earlier triggered
<code>request</code> event. Events on the models and and collection will be triggered
eventually, as their AJAX calls will finish.</p><p>This method does not abort the operation. It only allows another call
to <code>fetch</code> be made and replace the one in progress.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetching-promise">fetching: Promise<a href="#fetching-promise" class="hash-link" aria-label="Direct link to fetching: Promise" title="Direct link to fetching: Promise">​</a></h3><p>The promise returned by <code>fetch</code> during fetching or <code>null</code> if no fetching is
in progress.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetched-boolean">fetched: boolean<a href="#fetched-boolean" class="hash-link" aria-label="Direct link to fetched: boolean" title="Direct link to fetched: boolean">​</a></h3><p><code>true</code> if the most recent <code>fetch</code> succeeded, <code>false</code> if the context has not
been fetched yet, or fetching is in progress, or it failed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-error">error: Error<a href="#error-error" class="hash-link" aria-label="Direct link to error: Error" title="Direct link to error: Error">​</a></h3><p><code>null</code> if the most recent <code>fetch</code> succeeded, or fetching is in progress, or
the context has not been fetched yet, an instance of <code>Error</code> if the most
recent <code>fetch</code> failed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="beforeclear-context">&#x27;before:clear&#x27;, context<a href="#beforeclear-context" class="hash-link" aria-label="Direct link to &#x27;before:clear&#x27;, context" title="Direct link to &#x27;before:clear&#x27;, context">​</a></h3><p>The context is going to be cleared.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clear-context">&#x27;clear&#x27;, context<a href="#clear-context" class="hash-link" aria-label="Direct link to &#x27;clear&#x27;, context" title="Direct link to &#x27;clear&#x27;, context">​</a></h3><p>The context has been cleared.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-context">&#x27;request&#x27;, context<a href="#request-context" class="hash-link" aria-label="Direct link to &#x27;request&#x27;, context" title="Direct link to &#x27;request&#x27;, context">​</a></h3><p>The context is going to be fetched.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sync-context">&#x27;sync&#x27;, context<a href="#sync-context" class="hash-link" aria-label="Direct link to &#x27;sync&#x27;, context" title="Direct link to &#x27;sync&#x27;, context">​</a></h3><p>Fetching the context succeeded.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-error-context">&#x27;error&#x27;, error, context<a href="#error-error-context" class="hash-link" aria-label="Direct link to &#x27;error&#x27;, error, context" title="Direct link to &#x27;error&#x27;, error, context">​</a></h3><p>Fetching the context failed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="addfactory-context-propertyname-factory">&#x27;add:factory&#x27;, context, propertyName, factory<a href="#addfactory-context-propertyname-factory" class="hash-link" aria-label="Direct link to &#x27;add:factory&#x27;, context, propertyName, factory" title="Direct link to &#x27;add:factory&#x27;, context, propertyName, factory">​</a></h3><p>A new factory has been added to the context.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="removefactory-context-propertyname-factory">&#x27;remove:factory&#x27;, context, propertyName, factory<a href="#removefactory-context-propertyname-factory" class="hash-link" aria-label="Direct link to &#x27;remove:factory&#x27;, context, propertyName, factory" title="Direct link to &#x27;remove:factory&#x27;, context, propertyName, factory">​</a></h3><p>A factory has been destroyed and will be removed from the context.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/23.2.0/api_overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/23.2.0/api/nuc/contexts/fragment/context.fragment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Context Fragment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#factory" class="table-of-contents__link toc-highlight">Factory</a></li><li><a href="#fetchable-factory" class="table-of-contents__link toc-highlight">Fetchable Factory</a></li><li><a href="#configurable-factory" class="table-of-contents__link toc-highlight">Configurable Factory</a></li><li><a href="#detached-objects" class="table-of-contents__link toc-highlight">Detached Objects</a></li><li><a href="#permanent-objects" class="table-of-contents__link toc-highlight">Permanent Objects</a></li><li><a href="#temporary-objects" class="table-of-contents__link toc-highlight">Temporary Objects</a></li><li><a href="#factory-life-cycle" class="table-of-contents__link toc-highlight">Factory Life-Cycle</a></li><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a><ul><li><a href="#getobjectfactory-options-object" class="table-of-contents__link toc-highlight">getObject(factory, options): object</a></li><li><a href="#getcollectionfactory-options-object" class="table-of-contents__link toc-highlight">getCollection(factory, options): object</a></li><li><a href="#getmodelfactory-options-object" class="table-of-contents__link toc-highlight">getModel(factory, options): object</a></li><li><a href="#hasobjectfactory-options-boolean" class="table-of-contents__link toc-highlight">hasObject(factory, options): boolean</a></li><li><a href="#hascollectionfactory-options-boolean" class="table-of-contents__link toc-highlight">hasCollection(factory, options): boolean</a></li><li><a href="#hasmodelfactory-options-boolean" class="table-of-contents__link toc-highlight">hasModel(factory, options): boolean</a></li><li><a href="#clearoptions-void" class="table-of-contents__link toc-highlight">clear(options): void</a></li><li><a href="#fetchoptions-promise" class="table-of-contents__link toc-highlight">fetch(options): Promise</a></li><li><a href="#suppressfetch-boolean" class="table-of-contents__link toc-highlight">suppressFetch(): boolean</a></li></ul></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a><ul><li><a href="#fetching-promise" class="table-of-contents__link toc-highlight">fetching: Promise</a></li><li><a href="#fetched-boolean" class="table-of-contents__link toc-highlight">fetched: boolean</a></li><li><a href="#error-error" class="table-of-contents__link toc-highlight">error: Error</a></li></ul></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a><ul><li><a href="#beforeclear-context" class="table-of-contents__link toc-highlight">&#39;before:clear&#39;, context</a></li><li><a href="#clear-context" class="table-of-contents__link toc-highlight">&#39;clear&#39;, context</a></li><li><a href="#request-context" class="table-of-contents__link toc-highlight">&#39;request&#39;, context</a></li><li><a href="#sync-context" class="table-of-contents__link toc-highlight">&#39;sync&#39;, context</a></li><li><a href="#error-error-context" class="table-of-contents__link toc-highlight">&#39;error&#39;, error, context</a></li><li><a href="#addfactory-context-propertyname-factory" class="table-of-contents__link toc-highlight">&#39;add:factory&#39;, context, propertyName, factory</a></li><li><a href="#removefactory-context-propertyname-factory" class="table-of-contents__link toc-highlight">&#39;remove:factory&#39;, context, propertyName, factory</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Open Text. All rights reserved. Trademarks owned by Open Text.</div></div></div></footer></div>
<script src="/23.2.0/assets/js/runtime~main.f64a723c.js"></script>
<script src="/23.2.0/assets/js/main.c7fdb043.js"></script>
</body>
</html>