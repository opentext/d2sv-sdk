<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-general/howto/1_07_external_widgets">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">External widget in Documentum Client | D2 Smartview SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://opentext.github.io/d2sv-sdk/24.4.0/general/howto/1_07_external_widgets"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="External widget in Documentum Client | D2 Smartview SDK"><meta data-rh="true" name="description" content="Usage of external widget in Documentum Client"><meta data-rh="true" property="og:description" content="Usage of external widget in Documentum Client"><link data-rh="true" rel="icon" href="/d2sv-sdk/24.4.0/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://opentext.github.io/d2sv-sdk/24.4.0/general/howto/1_07_external_widgets"><link data-rh="true" rel="alternate" href="https://opentext.github.io/d2sv-sdk/24.4.0/general/howto/1_07_external_widgets" hreflang="en"><link data-rh="true" rel="alternate" href="https://opentext.github.io/d2sv-sdk/24.4.0/general/howto/1_07_external_widgets" hreflang="x-default"><link rel="stylesheet" href="/d2sv-sdk/24.4.0/assets/css/styles.7073dc9e.css">
<link rel="preload" href="/d2sv-sdk/24.4.0/assets/js/runtime~main.49eddaac.js" as="script">
<link rel="preload" href="/d2sv-sdk/24.4.0/assets/js/main.5bde8cca.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/d2sv-sdk/24.4.0/"><div class="navbar__logo"><img src="/d2sv-sdk/24.4.0/images/icon.png" alt="D2 SDK Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/d2sv-sdk/24.4.0/images/icon.png" alt="D2 SDK Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">D2 Smartview SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/d2sv-sdk/24.4.0/general/architecture">Docs</a><a class="navbar__item navbar__link" href="/d2sv-sdk/24.4.0/api_overview">API</a><a href="https://developer.opentext.com/ce/products/documentum/documentation/documentumsmartviewsdk/1" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">OpenText Developer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">24.4.0</a><ul class="dropdown__menu"><li><b>Selected version</b></li><li><a class="dropdown__link" target="_self" href="/d2sv-sdk/24.4.0/">24.4.0</a></li><li><hr style="margin: 0.3rem 0;"></li><li><b>Previous versions</b></li><li><a href="https://opentext.github.io/d2sv-sdk/24.2.0" target="_self" rel="noopener noreferrer" class="dropdown__link">24.2.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://opentext.github.io/d2sv-sdk/23.4.0" target="_self" rel="noopener noreferrer" class="dropdown__link">23.4.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://opentext.github.io/d2sv-sdk/23.2.0" target="_self" rel="noopener noreferrer" class="dropdown__link">23.2.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opentext.github.io/d2sv-sdk" target="_self" rel="noopener noreferrer" class="dropdown__link">All versions<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item"><a href="/d2sv-sdk/24.4.0/download"><img style="width: 22px;padding-top:5px;" src="images/download.png" alt="Download Documentation"></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/d2sv-sdk/24.4.0/general/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/d2sv-sdk/24.4.0/general/howto">How to</a><button aria-label="Toggle the collapsible sidebar category &#x27;How to&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_00_setup_ide">Use IDE for plugin development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_01_debug_sv_ui">Debug Smartview code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_02_d2rest.d2fs.supported.services">Extend/Override D2FS services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_03_custom.widget.type">Declare custom widget types for D2SV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_04_delta_menus">Use Delta Menus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_05_use_icons">Use icons in D2SV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_06_upgrade_workspace">Upgrade SDK workspace/plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_07_external_widgets">Use external widget in Documentum Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_10_create_custom_service_and_callback_action">Create custom service method for generic(calling service&#x27;s method) menu action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/1_11_use_licensing">Licensing implementation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/d2sv-sdk/24.4.0/general/howto/d2fsdialog">D2FS Dialog</a><button aria-label="Toggle the collapsible sidebar category &#x27;D2FS Dialog&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/d2sv-sdk/24.4.0/general/ws_assistant">Workspace assistant</a><button aria-label="Toggle the collapsible sidebar category &#x27;Workspace assistant&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/d2sv-sdk/24.4.0/general/samples">Packaged samples</a><button aria-label="Toggle the collapsible sidebar category &#x27;Packaged samples&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/d2sv-sdk/24.4.0/general/builtin.icons">Catalog of built-in action icons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/d2sv-sdk/24.4.0/general/rest.developer.guide">D2FS REST services developer guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/d2sv-sdk/24.4.0/general/understand.d2sv.plugin">Understanding D2SV plugin project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/d2sv-sdk/24.4.0/general/where.to.start">Where to start?</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/d2sv-sdk/24.4.0/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/d2sv-sdk/24.4.0/general/howto"><span itemprop="name">How to</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Use external widget in Documentum Client</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>External widget in Documentum Client</h1><p>D2 supports displaying of external clients which are deployed in the same app server using
the external widget configuration.</p><p>Admin can create widgets with widgettype as ExternalWidget and specify the path for the external client
starting from the context. Details can be seen in the Documentum Client administration guide.</p><p>In Documentum Client, external widgets can be configured as part of the menu configuration with either as dynamic menus
or as direct static menus. On selection of the menu items, external widget will be loaded in an iframe as a side panel.</p><p>External widgets are mainly used for the use cases where the widgets want to have a communication with the
D2 and vice versa. This is achieved using the library <em>OpenAjaxManagedHub-all.js</em>. In order to ease
the usage of the library we have exposed a wrapper module called <em>DCTM-OAH.js</em> which will have easily
understandable API for communication.</p><p>Both the libraries will be present under the following path</p><p><em>{D2SV-ROOT}/ui/OpenAjaxManagedHub-all.js</em></p><p><em>{D2SV-ROOT}/ui/DCTM-OAH.js</em></p><p>All the communication are driven through event mechanism which can be published/subriced to from the client</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-register-external-application-with-documentum-client">How to register external application with Documentum Client.<a href="#how-to-register-external-application-with-documentum-client" class="hash-link" aria-label="Direct link to How to register external application with Documentum Client." title="Direct link to How to register external application with Documentum Client.">​</a></h2><p>All the external widgets need to map the <i>OpenAjaxManagedHub-all.js</i> and <i>DCTM-OAH.js</i> as part of
the html/jsp in the external widgets.</p><p>In order to communicate with Documentum Client, external application needs to register as a client to Documentum Client. This can be
as follows</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> dctmOpenAjaxHubClient = new DCTMOpenAjaxHub();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dctmOpenAjaxHubClient.connectHub(connectCompleted, onActiveWidget);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function connectCompleted(hubClient, success, error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function onActiveWidget(bActiveFlag) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above code <em>connectCompleted</em> and <em>onActiveWidget</em> are callback methods triggered when the client
is registered.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="subscription-and-publishing-an-event-in-external-widget-client">Subscription and publishing an event in External widget client<a href="#subscription-and-publishing-an-event-in-external-widget-client" class="hash-link" aria-label="Direct link to Subscription and publishing an event in External widget client" title="Direct link to Subscription and publishing an event in External widget client">​</a></h2><p>To listen to events performed in the Documentum Client, external widget can subscribe to the events . Similarly external
widgets can publish an event which will be listened by Documentum Client and perform accordingly</p><p>All the messages that are published or subscribed will of <em>OpenAjaxMessage</em> type. This is a standardized
JS object created to ease the usage of OAH.</p><p>Object details will be present in <em>DCTM-OAH.js</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-subscribe-an-event">How to subscribe an event<a href="#how-to-subscribe-an-event" class="hash-link" aria-label="Direct link to How to subscribe an event" title="Direct link to How to subscribe an event">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> dctmOpenAjaxHubClient.subscribeToChannels(sChannel, fCallbackDataReceived, bHandleMessageIfNotDisplayed);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above case <em>sChannel</em> will be array of events to listen to from documentum</p><table><thead><tr><th align="center">Parameter</th><th align="center">Type</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">sChannel</td><td align="center">Arrays of String</td><td align="center">array of events to listen to from Documentum Client</td></tr><tr><td align="center">fCallbackDataReceived</td><td align="center">function</td><td align="center">Callback function to be triggered when published from Documentum Client</td></tr><tr><td align="center">bHandleMessageIfNotDisplayed</td><td align="center">boolean</td><td align="center">Boolean flag to be triggered to respond event if the widget is not visible</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-publish-an-event">How to publish an event<a href="#how-to-publish-an-event" class="hash-link" aria-label="Direct link to How to publish an event" title="Direct link to How to publish an event">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    let msg = new OpenAjaxMessage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dctmOpenAjaxHubClient.sendMessage(sChannel, oMessage);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above case <em>sChannel</em> will be the event to publish </p><table><thead><tr><th align="center">Parameter</th><th align="center">Type</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">sChannel</td><td align="center">String</td><td align="center">event name</td></tr><tr><td align="center">oMessage</td><td align="center">Object</td><td align="center"><em>OpenAjaxMessage</em> object that will carry the necessary information to be published</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-events">Supported Events<a href="#supported-events" class="hash-link" aria-label="Direct link to Supported Events" title="Direct link to Supported Events">​</a></h2><table><thead><tr><th align="center">Event</th><th align="center">Details</th></tr></thead><tbody><tr><td align="center">D2_EVENT_SELECT_OBJECT</td><td align="center">This is a subscribed event which will be published from D2 whenever an object is selected. <br>This will return the following information <em>r_object_id</em> as <em>oma_id</em>, <em>type</em> and <em>aContentType</em></td></tr><tr><td align="center">D2_EVENT_SELECT_OBJECTS</td><td align="center">This is a subscribed event which will be published from D2 whenever  object/objects is selected.</td></tr><tr><td align="center">D2_ACTION_DM_TICKET_GENERATE</td><td align="center">This event is published to D2 to request for for a new DCTM ticket. Oonce the DCTM ticket is generated from D2, it will publish the ticket information under thew event _D2_EVENT_DM_TICKET_GENERATED</td></tr><tr><td align="center">D2_EVENT_DM_TICKET_GENERATED</td><td align="center">This event will be published from D2 whenever it geenrates a new ticket on request from external clients as part of event D2_EVENT_DM_TICKET_GENERATE</td></tr><tr><td align="center">D2_ACTION_EXECUTE</td><td align="center">This event is published to D2 to execute a generic action services. It will require the following parameter as part of the message: eService, eMethod, rType, rAction</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sample-external-widget-application">Sample External Widget Application<a href="#sample-external-widget-application" class="hash-link" aria-label="Direct link to Sample External Widget Application" title="Direct link to Sample External Widget Application">​</a></h2><p>Below is a sample external widget which has 2 file external.js and external.html.
Create a folder external in app server and add these 2 files</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="externalhtml">external.html<a href="#externalhtml" class="hash-link" aria-label="Direct link to external.html" title="Direct link to external.html">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!DOCTYPE html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;html lang=&quot;en&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot; src=&quot;&lt;replace with context to D2SV&gt;/ui/OpenAjaxManagedHub-all.js&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot; src=&quot;&lt;replace with context to D2SV&gt;/ui/DCTM-OAH.js&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot; src=&quot;external.js&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .button {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            align-items: center;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border: none;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border-radius: 16px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cursor: pointer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            font-size: 14px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            height: 32px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            justify-content: center;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            min-width: 80px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            padding: 0px 24px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            white-space: nowrap;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border: 1px solid #232e72;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            box-sizing: border-box;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            color:  #232e72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TABLE &gt; THEAD {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            background-color: #eef2f4;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            height: 42px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            line-height: 37px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TABLE &gt; TBODY &gt; TR, TABLE &gt; THEAD &gt; TR{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border-bottom-color: rgb(51, 51, 51);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            font-size: 13px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TABLE &gt; TBODY &gt; TR &gt; TD{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            color: #333333;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            font-size:13px</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TEXTAREA{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           flex: 1 1 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            line-height: normal;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            text-align: left;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border: 1px solid #a7a9ac;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -moz-border-radius: 3px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            -webkit-border-radius: 3px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border-radius: 3px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            padding: 3px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            width: 100%;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            max-height: 68px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            height: 68px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            padding-left: 0.5em;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        body{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            font-family: &quot;OpenText Sans&quot;, &quot;Helvetica&quot;, &quot;Arial&quot;, sans-serif;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        div.header{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            background-color: #dce4e8;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            color: #333333;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border-bottom: 1px solid #d5d5d5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            width: 100%;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            height: 28px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            text-align: center;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            vertical-align: middle;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            padding-top: 11px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;title&gt;Title&lt;/title&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;div class=&quot;header&quot;&gt;Smartview External Widget&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;table style=&quot;width:100%&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;thead&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;th style=&quot;width:30%&quot;&gt;Subscribed Event&lt;/th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;th  style=&quot;width:70%&quot;&gt;Event Response&lt;/th&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/thead&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;tbody id=&quot;eventDetailsBody&quot;&gt;&lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/table&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;button class=&quot;button&quot; onclick=&quot;requestNewTicket()&quot;&gt;generate ticket&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;button class=&quot;button&quot; onclick=&quot;requestNewActionEvent()&quot;&gt;Show Report Templates&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/html&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="externaljs">external.js<a href="#externaljs" class="hash-link" aria-label="Direct link to external.js" title="Direct link to external.js">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let svEvents = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let dctmOpenAjaxHubClient = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let isActive = false; // assume widget is invisible / out-of-focus until &quot;D2_EVENT_WIDGET_DISPLAYED&quot; event received</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let initSVExternalWidget = () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    svEvents = [ &quot;D2_EVENT_SELECT_OBJECT&quot;, &quot;D2_EVENT_SELECT_OBJECTS&quot;, &quot;D2_EVENT_DM_TICKET_GENERATED&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    window.onload = function() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        loadEventTable();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dctmOpenAjaxHubClient = new DCTMOpenAjaxHub();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dctmOpenAjaxHubClient.connectHub(connectCompleted, onActiveWidget);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let connectCompleted = (hubClient, success, error) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (success) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(&quot;Widget connected to D2 client hub.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dctmOpenAjaxHubClient.subscribeToChannels(svEvents, d2MessageHandler, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.error(&quot;Widget unable to connect to D2 client hub.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Widget activation callback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let onActiveWidget =  (bActiveFlag) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.info(&quot;Widget &quot; + (bActiveFlag ? &quot;loaded&quot; : &quot;unloaded&quot;) +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot; by D2: active=&quot; + isActive + &quot;, events=&quot; + svEvents);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let d2MessageHandler = (event, message) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(event===&#x27;D2_EVENT_DM_TICKET_GENERATED&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        loadTicketGenerated(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else if(event===&#x27;D2_EVENT_SELECT_OBJECT&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        loadObjectSelection(message)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.getElementById(event).innerHTML= message;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let loadTicketGenerated = (message) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let text = &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text+=&quot;ticket = &quot;+message.get(&quot;ticket&quot;)+&quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text+=&quot;ticket_timeout = &quot;+message.get(&quot;ticket_timeout&quot;)+&quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text+=&quot;ticket_time_generated = &quot;+message.get(&quot;ticket_time_generated&quot;)+&quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text+=&quot;ticket_time_expiration = &quot;+message.get(&quot;ticket_time_expiration&quot;)+&quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    document.getElementById(&#x27;D2_EVENT_DM_TICKET_GENERATED&#x27;).innerHTML= text;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let loadObjectSelection = (message) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let text = &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text+=&quot;id = &quot;+message.get(&quot;oam_id&quot;)+&quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text+=&quot;type = &quot;+message.get(&quot;type&quot;)+&quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text+=&quot;aContentType = &quot;+message.get(&quot;aContentType&quot;)+&quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    document.getElementById(&#x27;D2_EVENT_SELECT_OBJECT&#x27;).innerHTML= text;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let requestNewTicket = () =&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let msg = new OpenAjaxMessage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    msg.setGlobal(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dctmOpenAjaxHubClient.sendMessage(&quot;D2_ACTION_DM_TICKET_GENERATE&quot;, msg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let requestNewActionEvent = () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let messageToSend = new OpenAjaxMessage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let queryFormConfigName = &quot;QF DCTM-Reports Templates&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Specify a non-null ID (to pass request validation)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    messageToSend.put(&quot;oam_id&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //In the message, we need to define what properties will be sent. Here r_object_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    messageToSend.put(&quot;list&quot;, &quot;r_object_type&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //We set the r_object_type value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    messageToSend.put(&quot;r_object_type&quot;, &#x27;tt_report&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //set the query form config name which will be used to update the doclist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    messageToSend.put(&quot;config&quot;, queryFormConfigName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Then we define what service and what method in the service will be called.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //We call the Search service and the runQueryFormSearch method.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Calling this service will update the user&#x27;s last search object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    messageToSend.put(&quot;eService&quot;, &quot;Search&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    messageToSend.put(&quot;eMethod&quot;, &quot;runQueryFormSearch&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // When the service call completes, we can define an action to be executed. Here, an event will be posted.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    messageToSend.put(&quot;rType&quot;, &quot;EVENT&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // As the last search has been updated by the web service call, we will post</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //    the D2_ACTION_SEARCH_DOCUMENT event to display the search results</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    messageToSend.put(&quot;rAction&quot;, &quot;D2_ACTION_SEARCH_DOCUMENT::oam_id==lastSearch&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //The message is now ready, it can be posted in the Hub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dctmOpenAjaxHubClient.sendMessage(&quot;D2_ACTION_EXECUTE&quot;, messageToSend);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let loadEventTable = () =&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    document.getElementById(&quot;eventDetailsBody&quot;).innerHTML=&quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for(let event of svEvents){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var tr = document.createElement(&quot;tr&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tr.innerHTML= &quot;&lt;td&gt;&quot;+event+&quot;&lt;/td&gt;&lt;td&gt;&lt;textarea style=&#x27;width:98%&#x27; id=&#x27;&quot;+event+&quot;&#x27; rows=&#x27;5&#x27;&gt;&lt;/textarea&gt;&lt;/td&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.getElementById(&quot;eventDetailsBody&quot;).append(tr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Loading the Documentum Client OAH.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">initSVExternalWidget();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/d2sv-sdk/24.4.0/general/howto/1_06_upgrade_workspace"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Upgrade SDK workspace/plugins</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/d2sv-sdk/24.4.0/general/howto/1_10_create_custom_service_and_callback_action"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create custom service method for generic(calling service&#x27;s method) menu action</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-register-external-application-with-documentum-client" class="table-of-contents__link toc-highlight">How to register external application with Documentum Client.</a></li><li><a href="#subscription-and-publishing-an-event-in-external-widget-client" class="table-of-contents__link toc-highlight">Subscription and publishing an event in External widget client</a><ul><li><a href="#how-to-subscribe-an-event" class="table-of-contents__link toc-highlight">How to subscribe an event</a></li><li><a href="#how-to-publish-an-event" class="table-of-contents__link toc-highlight">How to publish an event</a></li></ul></li><li><a href="#supported-events" class="table-of-contents__link toc-highlight">Supported Events</a></li><li><a href="#sample-external-widget-application" class="table-of-contents__link toc-highlight">Sample External Widget Application</a><ul><li><a href="#externalhtml" class="table-of-contents__link toc-highlight">external.html</a></li><li><a href="#externaljs" class="table-of-contents__link toc-highlight">external.js</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Open Text. All rights reserved. Trademarks owned by Open Text.</div></div></div></footer></div>
<script src="/d2sv-sdk/24.4.0/assets/js/runtime~main.49eddaac.js"></script>
<script src="/d2sv-sdk/24.4.0/assets/js/main.5bde8cca.js"></script>
</body>
</html>