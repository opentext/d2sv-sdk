"use strict";(self.webpackChunkd2sv_sdk_builder=self.webpackChunkd2sv_sdk_builder||[]).push([[4235],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>k});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=n.createContext({}),d=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},m=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},s=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,l=e.originalType,p=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=d(r),s=o,k=c["".concat(p,".").concat(s)]||c[s]||u[s]||l;return r?n.createElement(k,a(a({ref:t},m),{},{components:r})):n.createElement(k,a({ref:t},m))}));function k(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=r.length,a=new Array(l);a[0]=s;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[c]="string"==typeof e?e:o,a[1]=i;for(var d=2;d<l;d++)a[d]=r[d];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}s.displayName="MDXCreateElement"},97:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var n=r(7462),o=(r(7294),r(3905));const l={},a=void 0,i={unversionedId:"api/d2/controls/form/form.converter",id:"api/d2/controls/form/form.converter",title:"form.converter",description:"FormConverter : d2/sdk/controls/form/form.converter",source:"@site/articles/api/d2/controls/form/form.converter.md",sourceDirName:"api/d2/controls/form",slug:"/api/d2/controls/form/form.converter",permalink:"/api/d2/controls/form/form.converter",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"api",previous:{title:"stepper.wizard",permalink:"/api/d2/controls/dialogs/stepper.wizard"},next:{title:"form.model",permalink:"/api/d2/controls/form/form.model"}},p={},d=[{value:"FormConverter : <code>d2/sdk/controls/form/form.converter</code>",id:"formconverter--d2sdkcontrolsformformconverter",level:2},{value:"FormConverter.convertConfig(formJSON, options) \u21d2 <code>ConversionReturnType</code>",id:"formconverterconvertconfigformjson-options--conversionreturntype",level:3},{value:"FormConverter.generateFormModelConfig(formArray, options) \u21d2 <code>void</code>",id:"formconvertergenerateformmodelconfigformarray-options--void",level:3},{value:"FormConverter~ConversionReturnType : <code>Object</code>",id:"formconverterconversionreturntype--object",level:3},{value:"FormConverter~AlpacaSchema : <code>Object</code>",id:"formconverteralpacaschema--object",level:3}],m={toc:d},c="wrapper";function u(e){let{components:t,...r}=e;return(0,o.kt)(c,(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("a",{name:"module_FormConverter"}),(0,o.kt)("h2",{id:"formconverter--d2sdkcontrolsformformconverter"},"FormConverter : ",(0,o.kt)("code",null,"d2/sdk/controls/form/form.converter")),(0,o.kt)("p",null,"Form converter. Utility to transform D2 Form metadata."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Extends"),": ",(0,o.kt)("code",null,"Object"),"  "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#module_FormConverter"},"FormConverter")," : ",(0,o.kt)("code",null,"d2/sdk/controls/form/form.converter"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"static"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#module_FormConverter.convertConfig"},".convertConfig(formJSON, options)")," \u21d2 ",(0,o.kt)("code",null,"ConversionReturnType")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#module_FormConverter.generateFormModelConfig"},".generateFormModelConfig(formArray, [options])")," \u21d2 ",(0,o.kt)("code",null,"void")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"inner"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#module_FormConverter..ConversionReturnType"},"~ConversionReturnType")," : ",(0,o.kt)("code",null,"Object")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#module_FormConverter..AlpacaSchema"},"~AlpacaSchema")," : ",(0,o.kt)("code",null,"Object"))))))),(0,o.kt)("a",{name:"module_FormConverter.convertConfig"}),(0,o.kt)("h3",{id:"formconverterconvertconfigformjson-options--conversionreturntype"},"FormConverter.convertConfig(formJSON, options) \u21d2 ",(0,o.kt)("code",null,"ConversionReturnType")),(0,o.kt)("p",null,"Convert a D2 Form metadata into an Alpaca form schema."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.kt)("a",{parentName:"p",href:"#module_FormConverter"},(0,o.kt)("code",null,"FormConverter")),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Returns"),": ",(0,o.kt)("code",null,"ConversionReturnType")," - ",(0,o.kt)("inlineCode",{parentName:"p"},"propertiesConfig")," & ",(0,o.kt)("inlineCode",{parentName:"p"},"signOffConfig")," are two separate alpaca form schema to collect properties and user's electronic signature.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Note"),": Alpaca form schema generated through this method does not have to go through ",(0,o.kt)("inlineCode",{parentName:"p"},"generateFormModelConfig()")," method below.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"See"),": ",(0,o.kt)("a",{parentName:"p",href:"http://www.alpacajs.org/docs/api/forms.html"},"Alpaca Forms"),"  "),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Param"),(0,o.kt)("th",null,"Type"),(0,o.kt)("th",null,"Description"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"formJSON"),(0,o.kt)("td",null,(0,o.kt)("code",null,"JSON")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Raw dialog-like response received from a D2-REST API or an equivalent object constructed literally."))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"options"),(0,o.kt)("td",null,(0,o.kt)("code",null,"Object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Holder of transformer parameters"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"[options.actionMode]"),(0,o.kt)("td",null,(0,o.kt)("code",null,"string")),(0,o.kt)("td",null,(0,o.kt)("p",null,"How to process the fields. Can be one of 'create', 'read', 'edit'. 'read' is for readonly mode, other two are editable. Value of this option influences the list of fields and their conditions processed as per equivalent D2-config property page field modes."))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"[options.layoutMode]"),(0,o.kt)("td",null,(0,o.kt)("code",null,"string")),(0,o.kt)("td",null,(0,o.kt)("p",null,"By default fields are laid out in a double column fashion, if a single-column is desired instead set this option to 'singleCol'."))),"  ")),(0,o.kt)("a",{name:"module_FormConverter.generateFormModelConfig"}),(0,o.kt)("h3",{id:"formconvertergenerateformmodelconfigformarray-options--void"},"FormConverter.generateFormModelConfig(formArray, ","[options]",") \u21d2 ",(0,o.kt)("code",null,"void")),(0,o.kt)("p",null,"Inject additional data into an Alpaca form schema and make it compatible for ",(0,o.kt)("a",{parentName:"p",href:"./form.model"},"FormModel")," & ",(0,o.kt)("a",{parentName:"p",href:"./form.view"},"FormView"),".\nIf more than one form is passed in the input, the method also generates cross-reference data if one form uses value from other, for any reason."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.kt)("a",{parentName:"p",href:"#module_FormConverter"},(0,o.kt)("code",null,"FormConverter")),"  "),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Param"),(0,o.kt)("th",null,"Type"),(0,o.kt)("th",null,"Description"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"formArray"),(0,o.kt)("td",null,(0,o.kt)("code",null,"Array.<AlpacaSchema>")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Array of Alpaca form schemas. The parameter is also the output parameter, each element in the array is modified with additional data."))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"[options]"),(0,o.kt)("td",null,(0,o.kt)("code",null,"object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Additional data/control flag used during the conversion."))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"[options.initialFieldValueMap]"),(0,o.kt)("td",null,(0,o.kt)("code",null,"object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Initial data reference for all the fields across forms."))),"  ")),(0,o.kt)("a",{name:"module_FormConverter..ConversionReturnType"}),(0,o.kt)("h3",{id:"formconverterconversionreturntype--object"},"FormConverter~ConversionReturnType : ",(0,o.kt)("code",null,"Object")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Kind"),": inner typedef of ",(0,o.kt)("a",{parentName:"p",href:"#module_FormConverter"},(0,o.kt)("code",null,"FormConverter")),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Properties")),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Name"),(0,o.kt)("th",null,"Type"),(0,o.kt)("th",null,"Description"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"propertiesConfig"),(0,o.kt)("td",null,(0,o.kt)("code",null,"Object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Alpaca schema for the main form"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"signOffConfig"),(0,o.kt)("td",null,(0,o.kt)("code",null,"Object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Alpaca schema for D2 Electronic signature form"))),"  ")),(0,o.kt)("a",{name:"module_FormConverter..AlpacaSchema"}),(0,o.kt)("h3",{id:"formconverteralpacaschema--object"},"FormConverter~AlpacaSchema : ",(0,o.kt)("code",null,"Object")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Kind"),": inner typedef of ",(0,o.kt)("a",{parentName:"p",href:"#module_FormConverter"},(0,o.kt)("code",null,"FormConverter")),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"See"),": ",(0,o.kt)("a",{parentName:"p",href:"http://www.alpacajs.org/docs/api/forms.html"},"Alpaca Forms"),(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"Properties")),(0,o.kt)("table",null,(0,o.kt)("thead",null,(0,o.kt)("tr",null,(0,o.kt)("th",null,"Name"),(0,o.kt)("th",null,"Type"),(0,o.kt)("th",null,"Description"))),(0,o.kt)("tbody",null,(0,o.kt)("tr",null,(0,o.kt)("td",null,"data"),(0,o.kt)("td",null,(0,o.kt)("code",null,"object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Object hash of initial values for each field property"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"schema"),(0,o.kt)("td",null,(0,o.kt)("code",null,"object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Container of schema properties"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"schema.properties"),(0,o.kt)("td",null,(0,o.kt)("code",null,"object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Object hash defining schema for each field property."))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"options"),(0,o.kt)("td",null,(0,o.kt)("code",null,"object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Container of additional options"))),(0,o.kt)("tr",null,(0,o.kt)("td",null,"options.fields"),(0,o.kt)("td",null,(0,o.kt)("code",null,"object")),(0,o.kt)("td",null,(0,o.kt)("p",null,"Object hash defining options for each field property."))),"  ")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example"),"  "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var form = {\n   data: {\n     field1: 'Hello world!'\n   },\n   schema: {\n     properties: {\n       field1: {\n         type: 'string',\n         required: true\n       }\n     }\n   },\n   options: {\n     fields: {\n       field1: {\n         type: 'text',\n         label: 'Greetings'\n       }\n     }\n   }\n};\n")))}u.isMDXComponent=!0}}]);