"use strict";(self.webpackChunkd2sv_sdk_builder=self.webpackChunkd2sv_sdk_builder||[]).push([[6403],{5680:(e,n,l)=>{l.d(n,{xA:()=>m,yg:()=>c});var t=l(6540);function o(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function a(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),l.push.apply(l,t)}return l}function r(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?a(Object(l),!0).forEach((function(n){o(e,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))}))}return e}function d(e,n){if(null==e)return{};var l,t,o=function(e,n){if(null==e)return{};var l,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)l=a[t],n.indexOf(l)>=0||(o[l]=e[l]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)l=a[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(o[l]=e[l])}return o}var g=t.createContext({}),i=function(e){var n=t.useContext(g),l=n;return e&&(l="function"==typeof e?e(n):r(r({},n),e)),l},m=function(e){var n=i(e.components);return t.createElement(g.Provider,{value:n},e.children)},u="mdxType",y={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},s=t.forwardRef((function(e,n){var l=e.components,o=e.mdxType,a=e.originalType,g=e.parentName,m=d(e,["components","mdxType","originalType","parentName"]),u=i(l),s=o,c=u["".concat(g,".").concat(s)]||u[s]||y[s]||a;return l?t.createElement(c,r(r({ref:n},m),{},{components:l})):t.createElement(c,r({ref:n},m))}));function c(e,n){var l=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=l.length,r=new Array(a);r[0]=s;var d={};for(var g in n)hasOwnProperty.call(n,g)&&(d[g]=n[g]);d.originalType=e,d[u]="string"==typeof e?e:o,r[1]=d;for(var i=2;i<a;i++)r[i]=l[i];return t.createElement.apply(null,r)}return t.createElement.apply(null,l)}s.displayName="MDXCreateElement"},5405:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>g,contentTitle:()=>r,default:()=>y,frontMatter:()=>a,metadata:()=>d,toc:()=>i});var t=l(8168),o=(l(6540),l(5680));const a={},r=void 0,d={unversionedId:"api/d2/utils/commandhelper",id:"api/d2/utils/commandhelper",title:"commandhelper",description:"CommandHelper : d2/sdk/utils/commandhelper",source:"@site/articles/api/d2/utils/commandhelper.md",sourceDirName:"api/d2/utils",slug:"/api/d2/utils/commandhelper",permalink:"/d2sv-sdk/24.2.0/api/d2/utils/commandhelper",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"api",previous:{title:"utils",permalink:"/d2sv-sdk/24.2.0/api/d2/utils/"},next:{title:"commands",permalink:"/d2sv-sdk/24.2.0/api/d2/utils/commands"}},g={},i=[{value:"CommandHelper : <code>d2/sdk/utils/commandhelper</code>",id:"commandhelper--d2sdkutilscommandhelper",level:2},{value:"CommandHelper.getJustOneNode(status) \u21d2 <code>NodeModel</code>",id:"commandhelpergetjustonenodestatus--codenodemodelcode",level:3},{value:"CommandHelper.getOriginalAction(node, signature, commandData) \u21d2 <code>ActionModel</code>",id:"commandhelpergetoriginalactionnode-signature-commanddata--actionmodel",level:3},{value:"CommandHelper.getOriginalActionLink(node, signature, linkrel, params, commandData) \u21d2 <code>String</code>",id:"commandhelpergetoriginalactionlinknode-signature-linkrel-params-commanddata--string",level:3},{value:"CommandHelper.refreshNode(node, widgetConfig) \u21d2 <code>jQuery.Promise</code>",id:"commandhelperrefreshnodenode-widgetconfig--jquerypromise",level:3},{value:"CommandHelper.showErrorPanel(node, errMessage, detailMessage) \u21d2 <code>*</code>",id:"commandhelpershowerrorpanelnode-errmessage-detailmessage--",level:3},{value:"CommandHelper.blockD2ViewActions(view) \u21d2 <code>void</code>",id:"commandhelperblockd2viewactionsview--void",level:3},{value:"CommandHelper.unblockD2ViewActions(view) \u21d2 <code>void</code>",id:"commandhelperunblockd2viewactionsview--void",level:3}],m={toc:i},u="wrapper";function y(e){let{components:n,...l}=e;return(0,o.yg)(u,(0,t.A)({},m,l,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("a",{name:"module_CommandHelper"}),(0,o.yg)("h2",{id:"commandhelper--d2sdkutilscommandhelper"},"CommandHelper : ",(0,o.yg)("code",null,"d2/sdk/utils/commandhelper")),(0,o.yg)("p",null,"A few frequetnly used functions that helps reduce code duplication across ",(0,o.yg)("a",{parentName:"p",href:"../commands/command"},"CommandModel")," implementations."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Extends"),": ",(0,o.yg)("code",null,"Object"),"  "),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"#module_CommandHelper"},"CommandHelper")," : ",(0,o.yg)("code",null,"d2/sdk/utils/commandhelper"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"#module_CommandHelper.getJustOneNode"},".getJustOneNode(status)")," \u21d2 ",(0,o.yg)("a",{parentName:"li",href:"../models/node.model"},(0,o.yg)("code",null,"NodeModel"))),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"#module_CommandHelper.getOriginalAction"},".getOriginalAction(node, signature, [commandData])")," \u21d2 ",(0,o.yg)("code",null,"ActionModel")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"#module_CommandHelper.getOriginalActionLink"},".getOriginalActionLink(node, signature, linkrel, [params], [commandData])")," \u21d2 ",(0,o.yg)("code",null,"String")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"#module_CommandHelper.refreshNode"},".refreshNode(node, [widgetConfig])")," \u21d2 ",(0,o.yg)("code",null,"jQuery.Promise")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"#module_CommandHelper.showErrorPanel"},".showErrorPanel(node, errMessage, detailMessage)")," \u21d2 ",(0,o.yg)("code",null,"*")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"#module_CommandHelper.blockD2ViewActions"},".blockD2ViewActions(view)")," \u21d2 ",(0,o.yg)("code",null,"void")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("a",{parentName:"li",href:"#module_CommandHelper.unblockD2ViewActions"},".unblockD2ViewActions(view)")," \u21d2 ",(0,o.yg)("code",null,"void"))))),(0,o.yg)("a",{name:"module_CommandHelper.getJustOneNode"}),(0,o.yg)("h3",{id:"commandhelpergetjustonenodestatus--codenodemodelcode"},"CommandHelper.getJustOneNode(status) \u21d2 ",(0,o.yg)("a",{parentName:"h3",href:"../models/node.model"},(0,o.yg)("code",null,"NodeModel"))),(0,o.yg)("p",null,"Get exactly one node from the given ",(0,o.yg)("inlineCode",{parentName:"p"},"status")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.yg)("a",{parentName:"p",href:"#module_CommandHelper"},(0,o.yg)("code",null,"CommandHelper")),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Returns"),": ",(0,o.yg)("a",{parentName:"p",href:"../models/node.model"},(0,o.yg)("code",null,"NodeModel"))," - Returns the first node from ",(0,o.yg)("inlineCode",{parentName:"p"},"status.nodes"),".  "),(0,o.yg)("table",null,(0,o.yg)("thead",null,(0,o.yg)("tr",null,(0,o.yg)("th",null,"Param"),(0,o.yg)("th",null,"Type"),(0,o.yg)("th",null,"Description"))),(0,o.yg)("tbody",null,(0,o.yg)("tr",null,(0,o.yg)("td",null,"status"),(0,o.yg)("td",null,(0,o.yg)("code",null,"object")),(0,o.yg)("td",null,(0,o.yg)("p",null,"The ",(0,o.yg)("code",null,"status")," parameter from ",(0,o.yg)("a",{href:"../commands/command"},"CommandModel"),"'s ",(0,o.yg)("code",null,"enabled")," or ",(0,o.yg)("code",null,"execute")," methods."))),"  ")),(0,o.yg)("a",{name:"module_CommandHelper.getOriginalAction"}),(0,o.yg)("h3",{id:"commandhelpergetoriginalactionnode-signature-commanddata--actionmodel"},"CommandHelper.getOriginalAction(node, signature, ","[commandData]",") \u21d2 ",(0,o.yg)("code",null,"ActionModel")),(0,o.yg)("p",null,"Get the most matching action of a node for a given command signature. Usued for disambigutation of an action when it may be present multiple times due to repetitive menu config."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.yg)("a",{parentName:"p",href:"#module_CommandHelper"},(0,o.yg)("code",null,"CommandHelper")),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Returns"),": ",(0,o.yg)("code",null,"ActionModel")," - Returns the action that matches most. if ",(0,o.yg)("inlineCode",{parentName:"p"},"commandData")," is not passed, the first action matching the ",(0,o.yg)("inlineCode",{parentName:"p"},"signature")," is returned.  "),(0,o.yg)("table",null,(0,o.yg)("thead",null,(0,o.yg)("tr",null,(0,o.yg)("th",null,"Param"),(0,o.yg)("th",null,"Type"),(0,o.yg)("th",null,"Description"))),(0,o.yg)("tbody",null,(0,o.yg)("tr",null,(0,o.yg)("td",null,"node"),(0,o.yg)("td",null,(0,o.yg)("code",null,(0,o.yg)("a",{href:"../models/node.model"},"NodeModel"))),(0,o.yg)("td",null,(0,o.yg)("p",null,"The node whose actions are being looked up"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"signature"),(0,o.yg)("td",null,(0,o.yg)("code",null,"string")),(0,o.yg)("td",null,(0,o.yg)("p",null,"The command singnature being looked up"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"[commandData]"),(0,o.yg)("td",null,(0,o.yg)("code",null,"object")),(0,o.yg)("td",null,(0,o.yg)("p",null,(0,o.yg)("code",null,"commandData")," associated with the ",(0,o.yg)("code",null,"status")," parameter from ",(0,o.yg)("a",{href:"../commands/command"},"CommandModel"),"'s ",(0,o.yg)("code",null,"enabled")," or ",(0,o.yg)("code",null,"execute")," methods."))),"  ")),(0,o.yg)("a",{name:"module_CommandHelper.getOriginalActionLink"}),(0,o.yg)("h3",{id:"commandhelpergetoriginalactionlinknode-signature-linkrel-params-commanddata--string"},"CommandHelper.getOriginalActionLink(node, signature, linkrel, ","[params]",", ","[commandData]",") \u21d2 ",(0,o.yg)("code",null,"String")),(0,o.yg)("p",null,"Get the URL for given linkrel ID from the most matching action of a node. Internally calls ",(0,o.yg)("a",{parentName:"p",href:"#module_CommandHelper.getOriginalAction"},"getOriginalAction")," to lookup the matching action."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.yg)("a",{parentName:"p",href:"#module_CommandHelper"},(0,o.yg)("code",null,"CommandHelper")),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Returns"),": ",(0,o.yg)("code",null,"String")," - the URL  "),(0,o.yg)("table",null,(0,o.yg)("thead",null,(0,o.yg)("tr",null,(0,o.yg)("th",null,"Param"),(0,o.yg)("th",null,"Type"),(0,o.yg)("th",null,"Description"))),(0,o.yg)("tbody",null,(0,o.yg)("tr",null,(0,o.yg)("td",null,"node"),(0,o.yg)("td",null,(0,o.yg)("code",null,(0,o.yg)("a",{href:"../models/node.model"},"NodeModel"))),(0,o.yg)("td",null,(0,o.yg)("p",null,"The node whose actions are being looked up"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"signature"),(0,o.yg)("td",null,(0,o.yg)("code",null,"string")),(0,o.yg)("td",null,(0,o.yg)("p",null,"The command singnature being looked up"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"linkrel"),(0,o.yg)("td",null,(0,o.yg)("code",null,"string")),(0,o.yg)("td",null,(0,o.yg)("p",null,"Linkrel identifier being looked up."))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"[params]"),(0,o.yg)("td",null,(0,o.yg)("code",null,"object")),(0,o.yg)("td",null,(0,o.yg)("p",null,"If the link relation points to an href-template, then resolve the template using these params."))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"[commandData]"),(0,o.yg)("td",null,(0,o.yg)("code",null,"object")),(0,o.yg)("td",null,(0,o.yg)("p",null,(0,o.yg)("code",null,"commandData")," associated with the ",(0,o.yg)("code",null,"status")," parameter from ",(0,o.yg)("a",{href:"../commands/command"},"CommandModel"),"'s ",(0,o.yg)("code",null,"enabled")," or ",(0,o.yg)("code",null,"execute")," methods."))),"  ")),(0,o.yg)("a",{name:"module_CommandHelper.refreshNode"}),(0,o.yg)("h3",{id:"commandhelperrefreshnodenode-widgetconfig--jquerypromise"},"CommandHelper.refreshNode(node, ","[widgetConfig]",") \u21d2 ",(0,o.yg)("code",null,"jQuery.Promise")),(0,o.yg)("p",null,"Refresh the attributes of a node from server in the context of a widget"),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.yg)("a",{parentName:"p",href:"#module_CommandHelper"},(0,o.yg)("code",null,"CommandHelper")),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Returns"),": ",(0,o.yg)("code",null,"jQuery.Promise")," - it is ",(0,o.yg)("inlineCode",{parentName:"p"},"resolve()"),"-ed only if the refresh is successful, ",(0,o.yg)("inlineCode",{parentName:"p"},"reject()"),"-ed otherwise.  "),(0,o.yg)("table",null,(0,o.yg)("thead",null,(0,o.yg)("tr",null,(0,o.yg)("th",null,"Param"),(0,o.yg)("th",null,"Type"),(0,o.yg)("th",null,"Description"))),(0,o.yg)("tbody",null,(0,o.yg)("tr",null,(0,o.yg)("td",null,"node"),(0,o.yg)("td",null,(0,o.yg)("code",null,(0,o.yg)("a",{href:"../models/node.model"},"NodeModel"))),(0,o.yg)("td",null,(0,o.yg)("p",null,"The node being refreshed"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"[widgetConfig]"),(0,o.yg)("td",null,(0,o.yg)("code",null,"object")),(0,o.yg)("td",null,(0,o.yg)("p",null,"Widet configuration to set the context of refresh"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"widgetConfig.widgetName"),(0,o.yg)("td",null,(0,o.yg)("code",null,"string")),(0,o.yg)("td",null,(0,o.yg)("p",null,"Name of the widget"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"widgetConfig.widgetType"),(0,o.yg)("td",null,(0,o.yg)("code",null,"string")),(0,o.yg)("td",null,(0,o.yg)("p",null,"Type of the widget"))),"  ")),(0,o.yg)("a",{name:"module_CommandHelper.showErrorPanel"}),(0,o.yg)("h3",{id:"commandhelpershowerrorpanelnode-errmessage-detailmessage--"},"CommandHelper.showErrorPanel(node, errMessage, detailMessage) \u21d2 ",(0,o.yg)("code",null,"*")),(0,o.yg)("p",null,"Show an error toast associated with a node."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.yg)("a",{parentName:"p",href:"#module_CommandHelper"},(0,o.yg)("code",null,"CommandHelper")),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Returns"),": ",(0,o.yg)("code",null,"*")," - the toast instance  "),(0,o.yg)("table",null,(0,o.yg)("thead",null,(0,o.yg)("tr",null,(0,o.yg)("th",null,"Param"),(0,o.yg)("th",null,"Type"),(0,o.yg)("th",null,"Description"))),(0,o.yg)("tbody",null,(0,o.yg)("tr",null,(0,o.yg)("td",null,"node"),(0,o.yg)("td",null,(0,o.yg)("code",null,(0,o.yg)("a",{href:"../models/node.model"},"NodeModel"))),(0,o.yg)("td",null,(0,o.yg)("p",null,"The node to associate the message with"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"errMessage"),(0,o.yg)("td",null,(0,o.yg)("code",null,"string")),(0,o.yg)("td",null,(0,o.yg)("p",null,"Brief message to be shown"))),(0,o.yg)("tr",null,(0,o.yg)("td",null,"detailMessage"),(0,o.yg)("td",null,(0,o.yg)("code",null,"string")),(0,o.yg)("td",null,(0,o.yg)("p",null,"Verbose detail of the ",(0,o.yg)("code",null,"errMessage"),". The detail is shown in an expandable region of the toast."))),"  ")),(0,o.yg)("a",{name:"module_CommandHelper.blockD2ViewActions"}),(0,o.yg)("h3",{id:"commandhelperblockd2viewactionsview--void"},"CommandHelper.blockD2ViewActions(view) \u21d2 ",(0,o.yg)("code",null,"void")),(0,o.yg)("p",null,"Enable blocker UI."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.yg)("a",{parentName:"p",href:"#module_CommandHelper"},(0,o.yg)("code",null,"CommandHelper")),"  "),(0,o.yg)("table",null,(0,o.yg)("thead",null,(0,o.yg)("tr",null,(0,o.yg)("th",null,"Param"),(0,o.yg)("th",null,"Type"),(0,o.yg)("th",null,"Description"))),(0,o.yg)("tbody",null,(0,o.yg)("tr",null,(0,o.yg)("td",null,"view"),(0,o.yg)("td",null,(0,o.yg)("code",null,(0,o.yg)("a",{href:"https://marionettejs.com/docs/v2.4.7/marionette.view.html"},"Marionette.View"))),(0,o.yg)("td",null,(0,o.yg)("p",null,"A view instance infused with the progress blocker API. See ",(0,o.yg)("a",{href:"../controls/blocker/blocker"},"BlockingView"),"."))),"  ")),(0,o.yg)("a",{name:"module_CommandHelper.unblockD2ViewActions"}),(0,o.yg)("h3",{id:"commandhelperunblockd2viewactionsview--void"},"CommandHelper.unblockD2ViewActions(view) \u21d2 ",(0,o.yg)("code",null,"void")),(0,o.yg)("p",null,"Disable blocker UI."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Kind"),": static method of ",(0,o.yg)("a",{parentName:"p",href:"#module_CommandHelper"},(0,o.yg)("code",null,"CommandHelper")),"  "),(0,o.yg)("table",null,(0,o.yg)("thead",null,(0,o.yg)("tr",null,(0,o.yg)("th",null,"Param"),(0,o.yg)("th",null,"Type"),(0,o.yg)("th",null,"Description"))),(0,o.yg)("tbody",null,(0,o.yg)("tr",null,(0,o.yg)("td",null,"view"),(0,o.yg)("td",null,(0,o.yg)("code",null,(0,o.yg)("a",{href:"https://marionettejs.com/docs/v2.4.7/marionette.view.html"},"Marionette.View"))),(0,o.yg)("td",null,(0,o.yg)("p",null,"A view instance infused with the progress blocker API. See ",(0,o.yg)("a",{href:"../controls/blocker/blocker"},"BlockingView"),"."))),"  ")))}y.isMDXComponent=!0}}]);